"use strict";(self.webpackChunkcookier_clicker_frontend=self.webpackChunkcookier_clicker_frontend||[]).push([[411],{9411:function(e,a,o){o.r(a),o.d(a,{default:function(){return p}});var s=o(2791),t=o(4329),i=o(9439),n=o(184);function c(){var e=(0,s.useState)([]),a=(0,i.Z)(e,2),o=a[0],t=a[1];return(0,s.useEffect)((function(){document.Game&&(document.Game.onUserData=function(e){t(document.Game.users.map((function(a){var o=e.find((function(e){return e.address==a.walletAddress}));return a.handmadeCookies=o?o.cookies:a.handmadeCookies,{address:a.walletAddress,cookies:a.handmadeCookies,status:!!o}})))}),document.addEventListener("copy",(function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.setData("text/plain",document.copyTextContent)}))}),[]),(0,n.jsxs)("div",{className:"leader-board",children:[(0,n.jsx)("div",{style:{fontSize:"30px"},className:"board-title",children:"LEADERBOARD"}),(0,n.jsxs)("div",{className:"board-header",children:[(0,n.jsx)("div",{className:"leader-item-cell w-1",children:"#"}),(0,n.jsx)("div",{className:"leader-item-cell w-4",children:"ADDRESS"}),(0,n.jsx)("div",{className:"leader-item-cell w-3",children:"COOKIES"}),(0,n.jsx)("div",{className:"leader-item-cell w-1"})]}),(0,n.jsx)("div",{className:"board-body",children:o.sort((function(e,a){return a.cookies-e.cookies})).map((function(e,a){var o=document.Game.leaderBoardPageCount*document.Game.leaderBoardPageNum;return(0,n.jsxs)("div",{className:"leader-item-row",children:[(0,n.jsx)("div",{className:"leader-item-cell w-1 ",children:a+1+o}),(0,n.jsxs)("div",{className:"leader-item-cell w-4  ",style:{cursor:"pointer",display:"flex",flexDirection:"row"},children:[(0,n.jsxs)("div",{className:"tooltip",style:{color:"green"},onCopy:function(){},children:[e.address.substring(0,4)+"..."+e.address.substring(e.address.length-4,e.address.length),(0,n.jsx)("span",{className:"tooltiptext",children:e.address})]}),(0,n.jsxs)("div",{className:"tooltip copy-btn",onClick:function(a){document.copyTextContent=e.address,document.execCommand("copy")},style:{paddingLeft:"3px"},children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-copy",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),(0,n.jsx)("span",{className:"tooltiptext",children:"Copy"})]})]}),(0,n.jsx)("div",{className:"leader-item-cell w-3",children:e.cookies}),(0,n.jsx)("div",{className:"leader-item-cell w-1",children:(0,n.jsx)("div",{className:e.status?"badge-online":"badge-block"})})]},a)}))}),(0,n.jsx)("div",{className:"board-fooder"})]})}document.copyTextContent="";var r=o(8174);function d(e){return document.getElementById(e)}var l=function(e){return-1!=g.Loader.assetsLoaded.indexOf(e)?g.Loader.assets[e]:(-1==g.Loader.assetsLoading.indexOf(e)&&g.Loader.Load([e]),g.Loader.blank)};function u(e,a,o){if(e.addEventListener)return e.addEventListener(a,o,!1),[e,a,o];if(e.attachEvent){var s=function(){o.call(e)};return e.attachEvent("on"+a,s),[e,a,s]}return!1}var m=function(){this.loadingN=0,this.assetsN=0,this.assets=[],this.assetsLoading=[],this.assetsLoaded=[],this.domain="img/",this.loaded=0,this.doneLoading=0,this.blank=document.createElement("canvas"),this.blank.width=8,this.blank.height=8,this.blank.alt="blank",this.Load=function(e){for(var a in e)if(this.loadingN++,this.assetsN++,-1==this.assetsLoading.indexOf(e[a])&&-1==this.assetsLoaded.indexOf(e[a])){var o=new Image;g.local||(o.crossOrigin="anonymous"),o.alt=e[a];var s=this;o.onload=function(e){s.assetsLoaded.push(e.target.alt),s.assetsLoading.splice(s.assetsLoading.indexOf(e.target.alt),1),s.loadingN--,0==s.doneLoading&&s.loadingN<=0&&0!=s.loaded&&(s.doneLoading=1)},s.assets[e[a]]=o,s.assetsLoading.push(e[a]),o.src=s.domain+e[a]}}},g={ready:!1,BigCookieSize:0,BigCookieSizeT:1,BigCookieSizeD:0,fps:10,cookieClicks:0,lastClick:0,handmadeCookies:0,computedMouseCps:1,cookies:0,particles:[],cursors:10,cookieOriginX:0,cookieOriginY:0,logicTime:Date.now(),loopTime:Date.now(),users:[],leaderBoardPageNum:0,leaderBoardPageSize:10,leaderBoardPageCount:0};function h(e,a){return Math.floor(Math.random()*(a-e+1))+e}function k(){return(0,s.useEffect)((function(){g.ready||g.runed||(g.runed=!0,g.Launch(),g.Load(g.Init))}),[]),(0,n.jsx)("div",{id:"wrapper",children:(0,n.jsxs)("div",{id:"game",children:[(0,n.jsx)("canvas",{id:"backgroundCanvas"}),(0,n.jsxs)("div",{className:"scene",children:[(0,n.jsx)("div",{className:"separatorLeft",id:"leftBeam"}),(0,n.jsxs)("div",{id:"sectionLeft",className:"inset",children:[(0,n.jsx)("canvas",{id:"backgroundLeftCanvas",style:{zIndex:5}}),(0,n.jsx)("div",{className:"blackGradient"}),(0,n.jsx)("div",{id:"sectionLeftInfo"}),(0,n.jsx)("div",{id:"cookies"}),(0,n.jsxs)("div",{id:"cookieAnchor",children:[(0,n.jsx)("button",{id:"bigCookie"}),(0,n.jsx)("div",{id:"cookieNumbers"})]}),(0,n.jsx)("div",{id:"sectionLeftExtra"})]}),(0,n.jsx)("div",{className:"separatorRight",id:"rightBeam"})]}),(0,n.jsx)("div",{className:"leader-board-wrapper",children:(0,n.jsx)(c,{})})]})})}g.T=0,g.OnAscend=0,g.AscendTimer=0,g.AscendDuration=5*g.fps,g.AscendBreakpoint=.5*g.AscendDuration,g.milkProgress=0,g.milkH=g.milkProgress/2,g.milkHd=0,g.cookiesEarned=0,g.prefs={fancy:1},g.mouseX2=0,g.mouseY2=0,g.mouseX=0,g.mouseY=0,g.scene={x:0,y:0,w:0,h:0},g.showCoookies=function(){d("cookies").innerHTML="".concat(g.handmadeCookies," cookies")},g.Launch=function(){g.Load=function(e){g.Loader=new m,e()},g.login=function(e,a){g.socket.emit("req-login",{address:a||!1})},g.logout=function(e){g.socket.emit("req-logout",{address:e||!1}),g.ready=!1},g.Init=function(){var e=d("bigCookie");u(e,"mousedown",(function(e){g.BigCookieState=1,g.ClickCookie(e)})),u(e,"mouseup",(function(e){g.BigCookieState=2})),u(e,"mouseout",(function(e){g.BigCookieState=0})),u(e,"mouseover",(function(e){g.BigCookieState=2})),u(document,"mousemove",g.GetMouseCoords),u(e,"touchstart",(function(e){g.BigCookieState=0,e&&e.preventDefault()})),u(e,"touchend",(function(e){g.BigCookieState=2,g.GetMouseCoords(e.changedTouches[0]),g.ClickCookie(e.changedTouches[0]),e&&e.preventDefault()})),g.interval=setInterval(g.Loop,g.fps),g.getUsers()},g.getUsers=function(){g.socket.emit("req-users",{})},g.GetMouseCoords=function(e){var a=0,o=0;if(!e)e=window.event;e.pageX||e.pageY?(a=e.pageX,o=e.pageY):(e.clientX||e.clientY)&&(a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var s=d("backgroundLeftCanvas").getBoundingClientRect();g.mouseX2=g.mouseX,g.mouseY2=g.mouseY,g.mouseX=a-0,g.mouseY=o-0,g.scene={x:s.x,y:s.y,w:s.width,h:s.height}},g.ClickCookie=function(e,a){if(g.ready){var o=Date.now();if(e&&!(o-g.lastClick<100)&&(!e||"undefined"!==typeof e.target)){g.lastClick=o;a=a||g.computedMouseCps;g.Earn(a),g.handmadeCookies+=a,g.particleAdd(g.mouseX,g.mouseY,Math.PI+h(-2,2)/10,1,e),g.socket.emit("cookie-clicker"),g.cookieClicks++}}},g.Logic=function(){1==g.BigCookieState?g.BigCookieSizeT=.98:2==g.BigCookieState?g.BigCookieSizeT=1.05:g.BigCookieSizeT=1,g.BigCookieSizeD+=.75*(g.BigCookieSizeT-g.BigCookieSize),g.BigCookieSizeD*=.75,g.BigCookieSize+=g.BigCookieSizeD,g.BigCookieSize=Math.max(.1,g.BigCookieSize),g.milkProgress=g.cookiesEarned,g.milkH=.35*Math.min(1,g.milkProgress),g.milkHd+=.02*(g.milkH-g.milkHd),g.particleUpdate(),g.showCoookies(),g.T++,g.MilkProTime+=3},g.Loop=function(){for(var e=Date.now(),a=Math.floor((e-g.loopTime)/30),o=0;o<a;o++)g.Logic();a>=1&&(g.loopTime=e),g.Draw()},g.Earn=function(e){g.cookies+=e,g.cookiesEarned+=e},g.Draw=function(){g.DrawBackground(),g.DrawbigCookie(),g.DrawCursors(),g.DrawMilk(),g.DrawParticles()},g.DrawBackground=function(){if(!g.Background){g.Background=d("backgroundCanvas").getContext("2d"),g.Background.canvas.width=g.Background.canvas.parentNode.offsetWidth,g.Background.canvas.height=g.Background.canvas.parentNode.offsetHeight,g.gamecanvas=d("backgroundLeftCanvas").getContext("2d"),g.gamecanvas.canvas.width=g.gamecanvas.canvas.parentNode.offsetWidth,g.gamecanvas.canvas.height=g.gamecanvas.canvas.parentNode.offsetHeight,g.gamecanvas.globalAlpha=0,g.gamecanvas.drawImage(l("brokenCookie.png"),0,0),g.gamecanvas.drawImage(l("brokenCookieHalo.png"),0,0);var e=function(e){g.Background.canvas.width=g.Background.canvas.parentNode.offsetWidth,g.Background.canvas.height=g.Background.canvas.parentNode.offsetHeight,g.gamecanvas.canvas.width=g.gamecanvas.canvas.parentNode.offsetWidth,g.gamecanvas.canvas.height=g.gamecanvas.canvas.parentNode.offsetHeight,g.cookieOriginX=Math.floor(g.gamecanvas.canvas.width/2),g.cookieOriginY=Math.floor(.4*g.gamecanvas.canvas.height)};window.addEventListener("resize",e),e()}var a=g.Background;g.gamecanvas.clearRect(0,0,g.gamecanvas.canvas.width,g.gamecanvas.canvas.height),a.clearRect(0,0,g.Background.canvas.width,g.Background.canvas.height)},g.DrawbigCookie=function(){var e=g.gamecanvas,a=e.canvas.width/2,o=.4*e.canvas.height,s=256*g.BigCookieSize;e.save(),e.drawImage(l("cookieShadow.png"),a-s/2,o-s/2+20,s,s),e.translate(a,o),g.DrawSpecial(),e.drawImage(l("perfectCookie.png"),-s/2,-s/2,s,s),e.restore()},g.DrawCursors=function(){},g.DrawSpecial=function(){var e=g.gamecanvas,a=430,o=Math.floor(g.T%360);e.save(),e.rotate(o/360*Math.PI*2),e.globalAlpha=.3,e.drawImage(l("shine.png"),-215,-215,a,a),e.restore(),e.save(),e.rotate(-o/360*Math.PI*2),e.globalAlpha=.3,e.drawImage(l("shine.png"),-215,-215,a,a),e.restore()}},g.MilkProTime=0,g.DrawMilk=function(){var e=g.gamecanvas,a=Math.floor(2*g.MilkProTime)-20,o=100*(1+g.milkHd),s=e.canvas.height-o+60,t=e.canvas.width;a>t&&(g.MilkProTime=0),e.save(),e.globalAlpha=.65,e.drawImage(l("milkPlain.png"),a,s,t+30,o),e.drawImage(l("milkPlain.png"),a-t-30,s,t+30,o),e.restore()},g.particleAdd=function(e,a,o,s,t){t&&(g.particles.push({type:"small-cookier",pos:{x:e,y:a},r:o,speed:3,time:40,size:h(30,40)}),g.particles.push({type:"text",pos:{x:e+h(0,20),y:a-10},speed:1,text:s,time:150})),g.particles.push({type:"back-cookier",pos:{x:h(0,g.gamecanvas.canvas.width-30),y:-30},speed:5,time:130,size:h(30,50)})},g.particleUpdate=function(){for(var e=0;e<g.particles.length;e++){var a=g.particles[e];switch(a.type){case"small-cookier":a.pos.x+=6*Math.sin(a.r),a.pos.y+=Math.cos(a.r)*a.speed,a.speed-=.2,a.time--,a.time<0&&g.particles.splice(e,1);break;case"text":a.pos.y-=a.speed,a.time--,a.time<0&&g.particles.splice(e,1);break;case"back-cookier":a.pos.y+=a.speed,a.time--,a.time<0&&g.particles.splice(e,1)}}},g.DrawParticles=function(e){var a=g.gamecanvas,o=g.Background;a.fillStyle="#fff",a.font="bold 25px Merriweather",a.strokeStyle="#fff",a.textAlign="center";for(var s=0;s<g.particles.length;s++){var t=g.particles[s];if(t)switch(t.type){case"small-cookier":a.save(),a.translate(t.pos.x-g.scene.x,t.pos.y-g.scene.y),a.globalAlpha=1/40*t.time,a.drawImage(l("perfectCookie.png"),-20,-20,t.size,t.size),a.restore();break;case"text":a.save(),a.globalAlpha=1/150*t.time,a.translate(t.pos.x-g.scene.x,t.pos.y-g.scene.y),a.fillText("+"+t.text,0,-50),a.stroke(),a.restore();break;case"back-cookier":o.save(),o.globalAlpha=1/130*t.time,o.drawImage(l("perfectCookie.png"),t.pos.x+g.scene.x||0,t.pos.y||0,t.size,t.size),o.restore()}}},g.onSocket=function(){g.socket=document.socket,g.socket.on("req-login",(function(){g.login&&g.login()})),g.socket.on("res-login",(function(e){var a=e.success,o=e.clickcount,s=e.message;a?(g.handmadeCookies=o,g.cursors=Math.floor(Math.sqrt(o)/4),g.ready=!0,localStorage.getItem("isConnected")||localStorage.setItem("isConnected",!0)):(r.Am.error((0,n.jsx)("div",{className:"toast-content",children:s})),g.ready=!1)})),g.socket.on("users",(function(e){document.Game.onUserData&&document.Game.onUserData(e)})),g.socket.on("res-users",(function(e,a){g.leaderBoardPageNum=a.pageNum,g.leaderBoardPageSize=a.pageSize,g.leaderBoardPageCount=a.pageCount,g.users=e})),g.socket.on("req-users",(function(){g.getUsers()}))},g.runed=!1,document.Game=g,g.onSocket();var f=o.p+"static/media/ranking-8.72b8b37470c8e8695df0867e902f2053.svg";function v(){var e=(0,t.useWeb3React)(),a=e.isActive,o=(e.chainId,e.account),c=e.connector,r=(0,s.useState)(!1),d=(0,i.Z)(r,2),l=d[0],u=d[1],m=function(){document.querySelector(".leader-board-wrapper").classList.contains("show-data")?document.querySelector(".leader-board-wrapper").classList.remove("show-data"):document.querySelector(".leader-board-wrapper").classList.add("show-data")};return(0,s.useEffect)((function(){document.Game&&(l&&a?document.Game.ready||document.Game.login(a,o):document.Game.ready&&document.Game.logout())}),[a,l]),(0,s.useEffect)((function(){var e;null===(e=c.connectEagerly)||void 0===e||e.call(c)}),[c]),(0,n.jsx)("div",{className:"main-navs",children:l?(0,n.jsxs)("div",{className:"panelButton",children:[(0,n.jsx)("div",{className:"walletButton_connect",onClick:function(){null!==c&&void 0!==c&&c.deactivate?c.deactivate():c.resetState(),u(!1)},children:"DISCONNECT"}),(0,n.jsx)("div",{className:"lanking-btn",onClick:m,children:(0,n.jsx)("img",{src:f,width:"100%",height:"100%"})})]}):(0,n.jsxs)("div",{className:"panelButton",children:[(0,n.jsx)("div",{className:"walletButton",onClick:function(){c.activate(),u(!0)},children:"CONNECT WALLET"}),(0,n.jsx)("div",{className:"lanking-btn",onClick:m,children:(0,n.jsx)("img",{src:f,width:40,height:40})})]})})}function p(){return(0,s.useEffect)((function(){document.title="$COOKIE"})),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{}),(0,n.jsx)(k,{})]})}}}]);
//# sourceMappingURL=411.2cfdb4cf.chunk.js.map